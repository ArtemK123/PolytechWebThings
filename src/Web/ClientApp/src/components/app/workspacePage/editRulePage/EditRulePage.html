<div class="edit-rule-page">
    <h4>Edit rule</h4>
    <div>
        <span>Rule name</span><br/>
        <input type="text" data-bind="textInput: ruleName">
    </div>
    <h5>Steps</h5>
    <div>
        <!-- ko foreach: steps -->
            <editable-step params="{
                step: $data,
                index: $index,
                things: $parent.params.things,
                availableRuleNames: $parent.availableRuleNames,
                updateAction: $parent.updateStep.bind($parent),
                deleteAction: $parent.deleteStep.bind($parent)
           }"></editable-step>
            <hr/>
        <!-- /ko -->
        <!-- ko if: shouldShowNewStepCard -->
            <div class="edit-rule-page__new-step-card-container">
                <step-edit-card params="{
                    step: generateEmptyStep(),
                    index: null,
                    things: params.things,
                    availableRuleNames: availableRuleNames,
                    confirmEditAction: confirmAddNewStepAction.bind($data),
                    cancelEditAction: cancelAddNewStepAction.bind($data),
                }"></step-edit-card>
            </div>
            <hr/>
        <!-- /ko -->
    </div>
    <div>
        <button class="edit-rule-page__new-step-button" data-bind="click: addStep">New step</button><br/>
        <button data-bind="click: handleCancel">Cancel</button>
        <button data-bind="click: handleConfirm">Confirm</button>
    </div>
</div>