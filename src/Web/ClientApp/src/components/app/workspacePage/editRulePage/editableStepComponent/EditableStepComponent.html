<div>
    <div class="editable-step__editable-container" data-bind="if: inEditState">
        <!-- ko if: shouldShowChangeThingStateStepCard-->
            <change-thing-state-step-edit-card params="{
                step: params.step,
                currentStepType: currentStepType,
                things: params.things,
                stepTypes: stepTypes,
                confirmAction: confirmEditAction.bind($data),
                cancelAction: cancelEditAction.bind($data)
            }"></change-thing-state-step-edit-card>
        <!-- /ko -->
        <!-- ko if: shouldShowExecuteRuleStepCard-->
            <execute-rule-step-edit-card params="{
                step: params.step,
                currentStepType: currentStepType,
                stepTypes: stepTypes,
                availableRuleNames: params.availableRuleNames,
                confirmAction: confirmEditAction.bind($data),
                cancelAction: cancelEditAction.bind($data)
            }"></execute-rule-step-edit-card>
        <!-- /ko -->
    </div>
    <!-- ko ifnot: inEditState -->
    <div class="editable-step__non-editable-container">
        <div>
            <rule-step-card params="{ step: params.step, index: params.index }"></rule-step-card>
        </div>
        <div>
            <button data-bind="click: handleEditButtonClick">Edit</button>
            <button data-bind="click: handleDeleteButtonClick">Delete</button>
        </div>
    </div>
    <!-- /ko -->
</div>